<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BhashaNow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #84fab0, #8fd3f4); background-size: 400% 400%; animation: gradientBG 20s ease infinite; }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .glass-card { background: rgba(255, 255, 255, 0.25); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.18); }
        .logo-gradient { background: -webkit-linear-gradient(45deg, #f97316, #ea580c); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        video { transform: scaleX(-1); } /* Mirror the video feed */
    </style>
</head>
<body class="flex flex-col items-center min-h-screen p-4">

    <!-- Header -->
    <header class="w-full max-w-5xl mx-auto flex justify-between items-center p-4 glass-card rounded-2xl mb-8">
        <a href="hub.html" class="flex items-center space-x-2">
            <span class="text-4xl font-bold logo-gradient">à¤…</span>
            <span class="text-2xl font-bold text-gray-800">BhashaNow - Transliteration on the Go!</span>
        </a>
        <a href="signup.html" title="View Profile">
            <img class="w-12 h-12 rounded-full border-2 border-orange-500 object-cover" src="https://placehold.co/100x100/f97316/FFFFFF?text=A" alt="User Avatar">
        </a>
    </header>

    <!-- Camera Feed and Controls -->
    <main class="w-full max-w-5xl mx-auto flex-grow flex flex-col items-center justify-center glass-card rounded-2xl p-8">
        <div id="camera-container" class="w-full aspect-video bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center">
            <video id="camera-feed" class="w-full h-full object-cover" autoplay playsinline></video>
            <p id="camera-error" class="text-white text-center p-4 hidden">Could not access camera. Please check permissions and refresh.</p>
        </div>
        <button id="capture-btn" class="mt-6 w-full max-w-xs flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 hover:scale-105 transform transition-all duration-300 ease-in-out">
            Capture Image
        </button>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const videoElement = document.getElementById('camera-feed');
            const errorElement = document.getElementById('camera-error');
            const captureBtn = document.getElementById('capture-btn');

            async function setupCamera() {
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });
                        videoElement.srcObject = stream;
                    } catch (err) {
                        console.error("Error accessing camera: ", err);
                        errorElement.classList.remove('hidden');
                        videoElement.classList.add('hidden');
                    }
                } else {
                    console.error("getUserMedia not supported on this browser.");
                    errorElement.textContent = "Your browser does not support camera access.";
                    errorElement.classList.remove('hidden');
                    videoElement.classList.add('hidden');
                }
            }

            captureBtn.addEventListener('click', () => {
                // In a real app, you would capture a frame from the video here.
                alert('Image captured! (Processing not implemented in this prototype)');
            });

            setupCamera();
        });
    </script>
</body>
</html>
